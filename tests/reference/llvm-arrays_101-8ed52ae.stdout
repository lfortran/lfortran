; ModuleID = 'LFortran'
source_filename = "LFortran"

%string_descriptor = type <{ i8*, i64 }>

@_lfortran_arena_ptr = external thread_local global i8*
@0 = private unnamed_addr constant [5 x i8] c"arr1\00", align 1
@1 = private unnamed_addr constant [179 x i8] c"At 18:13 of file tests/../integration_tests/arrays_101.f90\0ARuntime error: Array '%s' index out of bounds.\0A\0ATried to access index %d of dimension %d, but valid range is %d to %d.\0A\00", align 1
@2 = private unnamed_addr constant [5 x i8] c"arr2\00", align 1
@3 = private unnamed_addr constant [179 x i8] c"At 19:13 of file tests/../integration_tests/arrays_101.f90\0ARuntime error: Array '%s' index out of bounds.\0A\0ATried to access index %d of dimension %d, but valid range is %d to %d.\0A\00", align 1
@4 = private unnamed_addr constant [5 x i8] c"arr3\00", align 1
@5 = private unnamed_addr constant [179 x i8] c"At 20:13 of file tests/../integration_tests/arrays_101.f90\0ARuntime error: Array '%s' index out of bounds.\0A\0ATried to access index %d of dimension %d, but valid range is %d to %d.\0A\00", align 1
@6 = private unnamed_addr constant [5 x i8] c"arr1\00", align 1
@7 = private unnamed_addr constant [179 x i8] c"At 24:17 of file tests/../integration_tests/arrays_101.f90\0ARuntime error: Array '%s' index out of bounds.\0A\0ATried to access index %d of dimension %d, but valid range is %d to %d.\0A\00", align 1
@"ERROR STOP" = private unnamed_addr constant [11 x i8] c"ERROR STOP\00", align 1
@8 = private unnamed_addr constant [2 x i8] c"\0A\00", align 1
@9 = private unnamed_addr constant [5 x i8] c"%s%s\00", align 1
@10 = private unnamed_addr constant [5 x i8] c"arr2\00", align 1
@11 = private unnamed_addr constant [179 x i8] c"At 25:17 of file tests/../integration_tests/arrays_101.f90\0ARuntime error: Array '%s' index out of bounds.\0A\0ATried to access index %d of dimension %d, but valid range is %d to %d.\0A\00", align 1
@12 = private unnamed_addr constant [2 x i8] c"\0A\00", align 1
@13 = private unnamed_addr constant [5 x i8] c"%s%s\00", align 1
@14 = private unnamed_addr constant [5 x i8] c"arr3\00", align 1
@15 = private unnamed_addr constant [179 x i8] c"At 26:17 of file tests/../integration_tests/arrays_101.f90\0ARuntime error: Array '%s' index out of bounds.\0A\0ATried to access index %d of dimension %d, but valid range is %d to %d.\0A\00", align 1
@16 = private unnamed_addr constant [2 x i8] c"\0A\00", align 1
@17 = private unnamed_addr constant [5 x i8] c"%s%s\00", align 1
@18 = private unnamed_addr constant [2 x i8] c"\0A\00", align 1
@string_const_data = private constant [2 x i8] c"OK"
@string_const = private global %string_descriptor <{ i8* getelementptr inbounds ([2 x i8], [2 x i8]* @string_const_data, i32 0, i32 0), i64 2 }>
@19 = private unnamed_addr constant [5 x i8] c"%s%s\00", align 1

define float @_lcompilers_real_i32(i32* %x) {
.entry:
  %_lcompilers_real_i32 = alloca float, align 4
  %0 = load i32, i32* %x, align 4
  %1 = sitofp i32 %0 to float
  store float %1, float* %_lcompilers_real_i32, align 4
  br label %return

return:                                           ; preds = %.entry
  br label %FINALIZE_SYMTABLE__lcompilers_real_i32

FINALIZE_SYMTABLE__lcompilers_real_i32:           ; preds = %return
  %2 = load float, float* %_lcompilers_real_i32, align 4
  ret float %2
}

define float @_lcompilers_real_i321(i32* %x) {
.entry:
  %_lcompilers_real_i321 = alloca float, align 4
  %0 = load i32, i32* %x, align 4
  %1 = sitofp i32 %0 to float
  store float %1, float* %_lcompilers_real_i321, align 4
  br label %return

return:                                           ; preds = %.entry
  br label %FINALIZE_SYMTABLE__lcompilers_real_i321

FINALIZE_SYMTABLE__lcompilers_real_i321:          ; preds = %return
  %2 = load float, float* %_lcompilers_real_i321, align 4
  ret float %2
}

define float @_lcompilers_real_i322(i32* %x) {
.entry:
  %_lcompilers_real_i322 = alloca float, align 4
  %0 = load i32, i32* %x, align 4
  %1 = sitofp i32 %0 to float
  store float %1, float* %_lcompilers_real_i322, align 4
  br label %return

return:                                           ; preds = %.entry
  br label %FINALIZE_SYMTABLE__lcompilers_real_i322

FINALIZE_SYMTABLE__lcompilers_real_i322:          ; preds = %return
  %2 = load float, float* %_lcompilers_real_i322, align 4
  ret float %2
}

define i32 @main(i32 %0, i8** %1) {
.entry:
  call void @_lfortran_arena_init()
  call void @_lpython_call_initial_functions(i32 %0, i8** %1)
  call void @test_large_fixed_arrays()
  %2 = load i8*, i8** getelementptr inbounds (%string_descriptor, %string_descriptor* @string_const, i32 0, i32 0), align 8
  call void @_lfortran_printf(i8* getelementptr inbounds ([5 x i8], [5 x i8]* @19, i32 0, i32 0), i8* %2, i32 2, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @18, i32 0, i32 0), i32 1)
  call void @_lpython_free_argv()
  br label %return

return:                                           ; preds = %.entry
  br label %FINALIZE_SYMTABLE_arrays_101

FINALIZE_SYMTABLE_arrays_101:                     ; preds = %return
  ret i32 0
}

define void @test_large_fixed_arrays() {
.entry:
  %arena_saved = load i8*, i8** @_lfortran_arena_ptr, align 8
  %arena_current = load i8*, i8** @_lfortran_arena_ptr, align 8
  %arena_new = getelementptr i8, i8* %arena_current, i64 4000000
  store i8* %arena_new, i8** @_lfortran_arena_ptr, align 8
  %0 = bitcast i8* %arena_current to [1000000 x float]*
  %arena_current1 = load i8*, i8** @_lfortran_arena_ptr, align 8
  %arena_new2 = getelementptr i8, i8* %arena_current1, i64 4000000
  store i8* %arena_new2, i8** @_lfortran_arena_ptr, align 8
  %1 = bitcast i8* %arena_current1 to [1000000 x float]*
  %arena_current3 = load i8*, i8** @_lfortran_arena_ptr, align 8
  %arena_new4 = getelementptr i8, i8* %arena_current3, i64 4000000
  store i8* %arena_new4, i8** @_lfortran_arena_ptr, align 8
  %2 = bitcast i8* %arena_current3 to [1000000 x float]*
  %i = alloca i32, align 4
  store i32 0, i32* %i, align 4
  br label %loop.head

loop.head:                                        ; preds = %ifcont8, %.entry
  %3 = load i32, i32* %i, align 4
  %4 = add i32 %3, 1
  %5 = icmp sle i32 %4, 1000000
  br i1 %5, label %loop.body, label %loop.end

loop.body:                                        ; preds = %loop.head
  %6 = load i32, i32* %i, align 4
  %7 = add i32 %6, 1
  store i32 %7, i32* %i, align 4
  %8 = load i32, i32* %i, align 4
  %9 = sub i32 %8, 1
  %10 = mul i32 1, %9
  %11 = add i32 0, %10
  %12 = icmp slt i32 %8, 1
  %13 = icmp sgt i32 %8, 1000000
  %14 = or i1 %12, %13
  br i1 %14, label %then, label %ifcont

then:                                             ; preds = %loop.body
  call void (i8*, ...) @_lcompilers_print_error(i8* getelementptr inbounds ([179 x i8], [179 x i8]* @1, i32 0, i32 0), i8* getelementptr inbounds ([5 x i8], [5 x i8]* @0, i32 0, i32 0), i32 %8, i32 1, i32 1, i32 1000000)
  call void @exit(i32 1)
  unreachable

ifcont:                                           ; preds = %loop.body
  %15 = getelementptr [1000000 x float], [1000000 x float]* %0, i32 0, i32 %11
  %16 = call float @_lcompilers_real_i32(i32* %i)
  store float %16, float* %15, align 4
  %17 = load i32, i32* %i, align 4
  %18 = sub i32 %17, 1
  %19 = mul i32 1, %18
  %20 = add i32 0, %19
  %21 = icmp slt i32 %17, 1
  %22 = icmp sgt i32 %17, 1000000
  %23 = or i1 %21, %22
  br i1 %23, label %then5, label %ifcont6

then5:                                            ; preds = %ifcont
  call void (i8*, ...) @_lcompilers_print_error(i8* getelementptr inbounds ([179 x i8], [179 x i8]* @3, i32 0, i32 0), i8* getelementptr inbounds ([5 x i8], [5 x i8]* @2, i32 0, i32 0), i32 %17, i32 1, i32 1, i32 1000000)
  call void @exit(i32 1)
  unreachable

ifcont6:                                          ; preds = %ifcont
  %24 = getelementptr [1000000 x float], [1000000 x float]* %1, i32 0, i32 %20
  %25 = call float @_lcompilers_real_i321(i32* %i)
  %26 = fmul float %25, 2.000000e+00
  store float %26, float* %24, align 4
  %27 = load i32, i32* %i, align 4
  %28 = sub i32 %27, 1
  %29 = mul i32 1, %28
  %30 = add i32 0, %29
  %31 = icmp slt i32 %27, 1
  %32 = icmp sgt i32 %27, 1000000
  %33 = or i1 %31, %32
  br i1 %33, label %then7, label %ifcont8

then7:                                            ; preds = %ifcont6
  call void (i8*, ...) @_lcompilers_print_error(i8* getelementptr inbounds ([179 x i8], [179 x i8]* @5, i32 0, i32 0), i8* getelementptr inbounds ([5 x i8], [5 x i8]* @4, i32 0, i32 0), i32 %27, i32 1, i32 1, i32 1000000)
  call void @exit(i32 1)
  unreachable

ifcont8:                                          ; preds = %ifcont6
  %34 = getelementptr [1000000 x float], [1000000 x float]* %2, i32 0, i32 %30
  %35 = call float @_lcompilers_real_i322(i32* %i)
  %36 = fmul float %35, 3.000000e+00
  store float %36, float* %34, align 4
  br label %loop.head

loop.end:                                         ; preds = %loop.head
  br i1 false, label %then9, label %ifcont10

then9:                                            ; preds = %loop.end
  call void (i8*, ...) @_lcompilers_print_error(i8* getelementptr inbounds ([179 x i8], [179 x i8]* @7, i32 0, i32 0), i8* getelementptr inbounds ([5 x i8], [5 x i8]* @6, i32 0, i32 0), i32 500000, i32 1, i32 1, i32 1000000)
  call void @exit(i32 1)
  unreachable

ifcont10:                                         ; preds = %loop.end
  %37 = getelementptr [1000000 x float], [1000000 x float]* %0, i32 0, i32 499999
  %38 = load float, float* %37, align 4
  %39 = fsub float %38, 5.000000e+05
  %40 = call float @llvm.fabs.f32(float %39)
  %41 = fcmp ogt float %40, 0x3FB99999A0000000
  br i1 %41, label %then11, label %else

then11:                                           ; preds = %ifcont10
  call void (i8*, ...) @_lcompilers_print_error(i8* getelementptr inbounds ([5 x i8], [5 x i8]* @9, i32 0, i32 0), i8* getelementptr inbounds ([11 x i8], [11 x i8]* @"ERROR STOP", i32 0, i32 0), i8* getelementptr inbounds ([2 x i8], [2 x i8]* @8, i32 0, i32 0))
  call void @exit(i32 1)
  br label %ifcont12

else:                                             ; preds = %ifcont10
  br label %ifcont12

ifcont12:                                         ; preds = %else, %then11
  br i1 false, label %then13, label %ifcont14

then13:                                           ; preds = %ifcont12
  call void (i8*, ...) @_lcompilers_print_error(i8* getelementptr inbounds ([179 x i8], [179 x i8]* @11, i32 0, i32 0), i8* getelementptr inbounds ([5 x i8], [5 x i8]* @10, i32 0, i32 0), i32 500000, i32 1, i32 1, i32 1000000)
  call void @exit(i32 1)
  unreachable

ifcont14:                                         ; preds = %ifcont12
  %42 = getelementptr [1000000 x float], [1000000 x float]* %1, i32 0, i32 499999
  %43 = load float, float* %42, align 4
  %44 = fsub float %43, 1.000000e+06
  %45 = call float @llvm.fabs.f32(float %44)
  %46 = fcmp ogt float %45, 0x3FB99999A0000000
  br i1 %46, label %then15, label %else16

then15:                                           ; preds = %ifcont14
  call void (i8*, ...) @_lcompilers_print_error(i8* getelementptr inbounds ([5 x i8], [5 x i8]* @13, i32 0, i32 0), i8* getelementptr inbounds ([11 x i8], [11 x i8]* @"ERROR STOP", i32 0, i32 0), i8* getelementptr inbounds ([2 x i8], [2 x i8]* @12, i32 0, i32 0))
  call void @exit(i32 1)
  br label %ifcont17

else16:                                           ; preds = %ifcont14
  br label %ifcont17

ifcont17:                                         ; preds = %else16, %then15
  br i1 false, label %then18, label %ifcont19

then18:                                           ; preds = %ifcont17
  call void (i8*, ...) @_lcompilers_print_error(i8* getelementptr inbounds ([179 x i8], [179 x i8]* @15, i32 0, i32 0), i8* getelementptr inbounds ([5 x i8], [5 x i8]* @14, i32 0, i32 0), i32 500000, i32 1, i32 1, i32 1000000)
  call void @exit(i32 1)
  unreachable

ifcont19:                                         ; preds = %ifcont17
  %47 = getelementptr [1000000 x float], [1000000 x float]* %2, i32 0, i32 499999
  %48 = load float, float* %47, align 4
  %49 = fsub float %48, 1.500000e+06
  %50 = call float @llvm.fabs.f32(float %49)
  %51 = fcmp ogt float %50, 0x3FB99999A0000000
  br i1 %51, label %then20, label %else21

then20:                                           ; preds = %ifcont19
  call void (i8*, ...) @_lcompilers_print_error(i8* getelementptr inbounds ([5 x i8], [5 x i8]* @17, i32 0, i32 0), i8* getelementptr inbounds ([11 x i8], [11 x i8]* @"ERROR STOP", i32 0, i32 0), i8* getelementptr inbounds ([2 x i8], [2 x i8]* @16, i32 0, i32 0))
  call void @exit(i32 1)
  br label %ifcont22

else21:                                           ; preds = %ifcont19
  br label %ifcont22

ifcont22:                                         ; preds = %else21, %then20
  br label %return

return:                                           ; preds = %ifcont22
  br label %FINALIZE_SYMTABLE_test_large_fixed_arrays

FINALIZE_SYMTABLE_test_large_fixed_arrays:        ; preds = %return
  store i8* %arena_saved, i8** @_lfortran_arena_ptr, align 8
  ret void
}

declare void @_lcompilers_print_error(i8*, ...)

declare void @exit(i32)

; Function Attrs: nounwind readnone speculatable willreturn
declare float @llvm.fabs.f32(float) #0

declare void @_lfortran_arena_init()

declare void @_lpython_call_initial_functions(i32, i8**)

declare void @_lfortran_printf(i8*, i8*, i32, i8*, i32)

declare void @_lpython_free_argv()

attributes #0 = { nounwind readnone speculatable willreturn }
